# 组件文档编写规范

本规范基于 ActionSheet 组件文档编写的实践经验总结，旨在提高组件文档的质量和一致性。

## 📋 文档结构规范

### 基本模板

```markdown
# ComponentName 组件名称

组件的简短描述（一句话说明用途）。

::: tip Vue2 组件
此组件基于 Vue2 开发，所有示例代码都采用 Vue2 语法。适用于 Vue 2.x 项目。
:::

## 何时使用

- 使用场景1
- 使用场景2
- 使用场景3

## 设计特色

- 🎯 **特色1** - 描述
- 📱 **特色2** - 描述
- 🎬 **特色3** - 描述

## 代码演示

### 基础用法

简短的使用场景描述。

<details>
<summary>查看完整代码</summary>

\`\`\`vue
<!-- 示例代码 -->
\`\`\`

</details>

## API

### Props
### Events  
### Methods
### Slots

## 使用场景

### 1. 场景名称（推荐）
### 2. 场景名称
### 3. 场景名称

## Vue2 集成指南

### 项目中的使用方式
### 常用配置模式
### 样式集成

## 注意事项

### Vue2 特有注意事项
### 通用注意事项
### 最佳实践
### 常见问题
```

## 🎯 编写原则

### 1. 实用性第一

- **优先参考实际项目[m_ssx]代码**，而非理论示例
- **基于真实使用场景**编写demo，确保代码可直接复制使用
- **避免过度设计**的示例，保持简洁实用

### 2. 精简而精准

- **Demo数量控制**：优先提供1个典型示例，最多不超过3个
- **聚焦核心功能**：重点展示最常用的使用方式
- **避免重复**：不同示例应展示不同的使用场景

### 3. 符合项目规范

- **使用项目mixin**：如 `app.mixin.popupWindowRouteMixin`
- **采用项目样式变量**：如 `$color-3-s`、`@include flex-between`
- **遵循项目编码习惯**：命名、结构、事件处理等

## 📝 Demo 编写规范

### 代码结构要求

```vue
<template>
  <!-- 使用项目中的实际HTML结构 -->
  <component-name
    @close="close"                    
    v-show="opened"                   
    :data="renderData">              
    
    <!-- 具体业务内容 -->
    
    <template slot="footer">
      <!-- 底部内容 -->
    </template>
  </component-name>
</template>

<script>
export default {
  name: 'ComponentDemo',              
  mixins: [app.mixin.popupWindowRouteMixin], 
  
  data() {                           
    return {
      opened: false,
      // 其他数据
    }
  },
  
  computed: {                         
    renderData() {
      return { opened: this.opened }
    }
  },
  
  watch: {                           
    opened(nval) {
      if (nval) {
        // 初始化逻辑
      }
    }
  },
  
  methods: {                         
    // 业务方法
  }
}
</script>

<style scoped lang="scss">           
// 使用项目SCSS变量和混入
.component-class {
  color: $color-3-s;
  @include ellipsis-single;
}
</style>
```

### Demo 内容要求

1. **真实业务场景**：选择老师、编辑表单、操作菜单等
2. **完整功能展示**：包含交互逻辑、状态管理、事件处理
3. **可运行代码**：确保示例代码能直接在项目中使用
4. **适当注释**：关键逻辑添加注释说明
5. **代码折叠**：使用 `<details>` 标签包装长代码，提升阅读体验

### 代码折叠规范

为了提升文档的可读性，对于较长的代码示例建议使用折叠功能：

```markdown
<details>
<summary>查看完整代码</summary>

\`\`\`vue
<!-- 代码内容 -->
\`\`\`

</details>
```

**使用建议**：
- **主要Demo**：使用 "查看完整代码"
- **使用场景**：使用 "查看代码示例"
- **配置示例**：使用 "查看配置代码"
- **超过30行**：建议使用折叠
- **核心API示例**：可以不折叠，直接展示

## 📊 API 文档规范

### Props 表格格式

| 参数 | 说明 | 类型 | 默认值 | 版本 |
| --- | --- | --- | --- | --- |
| propName | 详细说明 | string \| boolean | 'default' |  |

### Events 表格格式

| 事件名称 | 说明 | 回调参数 |
| --- | --- | --- |
| eventName | 详细说明 | (param: type) => void |

### Methods 表格格式

| 名称 | 说明 | 参数 |
| --- | --- | --- |
| methodName | 详细说明 | param: type |

### Slots 表格格式

| 名称 | 说明 |
| --- | --- |
| slotName | 详细说明 |

## 🔧 Vue2 集成指南规范

### 必要内容

1. **组件注册方式**：全局/局部注册示例
2. **依赖组件说明**：需要一同引入的组件
3. **样式依赖**：SCSS变量和混入
4. **项目集成模式**：标准的使用模式

### 集成示例格式

```javascript
// 标准集成模式
export default {
  mixins: [app.mixin.popupWindowRouteMixin],
  props: {
    opened: Boolean,
    // 其他props
  },
  computed: {
    renderData() {
      return { opened: this.opened }
    }
  }
}
```

## ⚠️ 注意事项规范

### 内容分类

1. **Vue2 特有注意事项**
   - 插槽语法差异
   - 事件处理方式
   - 响应式数据要求
   - 组件通信方式

2. **通用注意事项**
   - 性能相关
   - 兼容性问题
   - 使用限制
   - 样式影响

3. **最佳实践**
   - 推荐的使用方式
   - 性能优化建议
   - 代码组织建议

4. **常见问题**
   - Q&A格式
   - 基于实际使用中的问题
   - 提供具体解决方案

## 📋 编写流程

### 1. 前期准备

1. **分析源码**：理解组件的核心功能和API
2. **查找实际使用**：在项目中搜索组件的真实使用案例
3. **确定使用场景**：总结最常见的使用模式

### 2. 编写内容

1. **编写基础信息**：组件名称、描述、使用场景
2. **创建Demo**：基于实际使用案例编写典型示例
3. **整理API**：基于源码分析整理完整的API文档
4. **补充指南**：添加集成指南和注意事项

### 3. 验证完善

1. **代码验证**：确保示例代码能正常运行
2. **内容检查**：确保描述准确、示例实用
3. **格式统一**：遵循文档格式规范

## 🎯 质量标准

### 优秀文档的特征

- ✅ **实用性强**：示例代码可直接使用
- ✅ **信息准确**：API描述与实际一致
- ✅ **结构清晰**：章节组织合理，便于查找
- ✅ **风格统一**：遵循项目编码规范
- ✅ **问题导向**：解决实际使用中的问题

### 避免的问题

- ❌ **脱离实际**：理论示例无法在项目中使用
- ❌ **信息过载**：过多不必要的示例和说明
- ❌ **风格混乱**：不遵循项目规范
- ❌ **信息过时**：与当前组件实现不符

## 📚 参考模板

基于本规范，ActionSheet 组件文档可作为标准模板参考：

- **Demo设计**：基于真实的选择老师场景
- **代码风格**：使用项目mixin和样式变量
- **API文档**：完整而准确的接口说明
- **集成指南**：项目中的实际使用方式
- **问题解答**：常见使用问题的解决方案

## 🚀 后续维护

1. **定期更新**：组件升级时同步更新文档
2. **收集反馈**：根据使用者反馈优化文档
3. **扩展完善**：随着使用场景增加补充新的示例
4. **保持一致**：确保所有组件文档风格统一

---

*此规范将持续更新完善，以确保组件文档的质量和实用性。*